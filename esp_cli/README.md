this was taken from https://bitbucket.org/esp8266/
